# ADR-002

### ID: ADR-002

### Дата: 13.10.2023

### Статус: Принято

### Участники:

- Гатауллин Артур

### Решения:

- Использовать Rabbit MQ для очереди сообщений

### Контекст:

В архитектуре присутствует компонент очереди для отправки оповещений различного рода: sms, email, push. Разработчики подсказали, что с очередью работать сложно, поэтому желательно выбрать простую и “сразу хорошую”. 

Если исходить из формальных требований, то задача подразумевает гарантированную отправку сообщений, поэтому в качестве нфр имеем: система должна отправить сообщение как минимум один раз. Также имеется минимальные требования к производительности в виду отсутствия точной оценки нагрузки на каждый канал связи.

### Альтернативы:

- Apache Kafka
    - Более производительное, но сложное решение.
- ActiveMQ
    - Менее популярное решение, нет отдельного офиц. туториала по го.
    - Нет динамического роутинга

### Последствия:

### Положительные:

- Популярность и простота решения: множество гайдов по быстрому старту.
- Гибкая настройка: динамическое изменение слушателей (их количество, топики) без изменения механизма публикации сообщений. Гибкость настройки поможет нам в прототипе решения в условиях неведения точной оценки нагрузки по каждому типу оповещений и возможном ее делении внутри типов

### Отрицательные:

- Меньшая производительность по сравнению с apache kafka
