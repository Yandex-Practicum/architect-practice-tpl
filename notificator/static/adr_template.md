
| ID      | Дата       | Статус     | Участники       | Решения                                                                            | Контекст                                                                                                                                                                                                                                            | Последствия положительные                                                                                                                                                                                                                                       | Последствия отрицательные                                                                                            |
|---------|------------|------------|-----------------|------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| ADR-001 | 14.10.2023 | предложено | Хаймусов Максим | Необходимость внедрения сервиса отправки                                           | Для декомпозиции функций системы необходимо вынести функционал отправки сообщений в отдельный сервис к которому по единому протоколу будут обращаться все сервисы использующие функционал отправки информации пользователям по внешним каналам      | 1. Унификации протокола отправки сообщений. <br/>2. Разделение ответственности модулей. <br/>3. Снять с разработчиков непрофильных модулей заботу об отправке. <br/>4. В перспективе сможем собирать сквозную аналитику о сценариях использования каналов связи | Потребуются ресурсы <br/>1. На создание модуля <br/>2. Переводу существующих модулей на использование единого модуля |
| ADR-002 | 14.10.2023 | предложено | Хаймусов Максим | Определение структуры сервиса отправки                                             | При создании общей системы необходимо учесть большинство сценариев использования и определить текущие ограничения, предложить решение которое их снимет при сохранении текущей функциональности                                                     |||
| ADR-003 | 14.10.2023 | предложено | Хаймусов Максим | Точка входа в сервис - REST API                                                    | Т.к. внешние сервисы которые будут использовать функционал нового сервиса разнородны, то необходимо использование общеупотребимой технологии взаимодействия                                                                                         | 1. Лёгкость внедрения в сторонние сервисы. <br/>2. Наличие инструментов документирования / предоставления документации (OpenApi / Swagger)                                                                                                                      |                                                                                                                      |
| ADR-004 | 14.10.2023 | предложено | Хаймусов Максим | Реализация компонента сообщений - реляционная база данных (mysql)                  | Данные отправляемые адресатам как правило небольшого объёма, текстовые. Для их хранения достаточно реляционной базы данных (вложения будут храниться отдельно в файловой системе)                                                                   | 1. Возможность кластеризации при нагрузке<br/> 2. Наличие компетенций по настройке                                                                                                                                                                              |                                                                                                                      |
| ADR-005 | 14.10.2023 | предложено | Хаймусов Максим | Реализация компонента Rest Api на языке php 8.2 / Laravel                          | REST API должен быть реализован на языке который даст возможность быстро масштабировать нагрузку. Показывать высокую производительность                                                                                                             | 1. Возможность кластеризации/масштабирования через балансировщик при увеличении нагрузк <br/> 2. Наличие компетенций по использованию.<br/> 3. Наличие поддержки всех используемых компонент                                                                    |                                                                                                                      |
| ADR-006 | 14.10.2023 | предложено | Хаймусов Максим | Реализация компонента организации и адресации сообщений на языке php 8.2 / Laravel | Компонент должен осуществлять преобразование входящих первичных данных в структурированные данные, сохранять в хранилище, определять каналы доставки, адресатов сообщений.                                                                          | 1. Наличие компетенций по использованию <br/> 2. Наличие поддержки всех используемых компонент                                                                                                                                                                  | 1. Не самая большая эффективность по сравнению с имеющимися некоторыми имеющимися технологиями (node, java, go)      |
| ADR-007 | 14.10.2023 | предложено | Хаймусов Максим | Компоненты формирования сообщений разделены по типу канала                         | Компонент должен осуществлять проверку на возможность отправки сообщения адресату, проверка соответствия сообщения требованиям к формату отправляемого сообщения.                                                                                   | 1. Улучшение масштабируемости решения при реализации новых каналов доставки <br/> 2. Наличие библиотек валидаторов.                                                                                                                                             |                                                                                                                      |
| ADR-008 | 14.10.2023 | предложено | Хаймусов Максим | Реализация компонента очередей доставки на RabbitMB                                | Поступление сообщений разнесена во времени, может иметь пиковые значения, разные каналы доставки, поэтому решение должно быть реализовано с поддержкой очередей в т.ч. для разных каналов                                                           | 1. Очерёдность поможет регулировать загруженность компонента доставки сообщения <br/> 2. Наличие поддержки всех используемых компонент                                                                                                                          | 1. Нужно нарастить компетенции                                                                                       |
| ADR-009 | 14.10.2023 | предложено | Хаймусов Максим | Реализация компонента доставки сообщения по определённому каналу связи             | Компонент должен отправлять сообщение полученное из очереди по соответствующему каналу связи. Компонент должен осуществлять выбор оптимального канала из всех в рамках данного типа, осуществлять отправку, формировать журнал результатов отправки | 1. Улучшение масштабируемости решения при реализации новых каналов доставки <br/> 2. Наличие поддержки всех используемых компонент                                                                                                                              |                                                                                                                      |
