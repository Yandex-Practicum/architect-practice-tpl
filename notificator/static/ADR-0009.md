#### ID: [ADR-0009](ADR-0009.md)

#### Дата: 12.10.2023

#### Статус: Предложено

#### Участники:
* Емельянов Денис Владимирович

#### Решения:
* Предоставить REST API как способ взаимодействия с системой
* Взаимодействие между API Gateway и сервисом пользовательских данных будет происходить посредством REST API
* Взаимодействие между сервисами отправки сообщений в конкретные каналы будет происходить посредством REST API

#### Контекст:
* Поскольку нужно дать возможность различным подсистемам взаимодействовать с Системой Оповещений (а дополнительных ограничений не вводилось), предоставим универсальный интерфейс - REST API
* REST не единственное возможное решение. Среди альтернатив можно выбрать:
    * SOAP, более стандартизирован чем REST, но использует XML, а потому более громоздкий
    * gRPC, использует бинарный протокол protobuf, что заметно увеличивает скорость передачи данных, но использует HTTP/2, что накладывает ограничения на клиентов и увеличивает сложность реализации
    * GraphQL, расширяет возможности REST, позволяя клиентам запрашивать только необходимые данные. В нашем случае ощутимых преимуществ не дает и увеличивает сложность за счет потребности в изучении
* Среди альтернатив REST выступает не самым быстрым или гибким вариантом, но наиболее простым (и наиболее распространенным) в реализации, что и определяет выбор.


#### Последствия:

#### Положительные:
* Распространенный, а значит доступный для клиентов интерфейс
* Простые реализация и поддержка


#### Отрицательные:
* Меньшая скорость передачи данных в сравнении с gRPC, но с учетом требований нам будет достаточно
* Меньшая гибкость в сравнении с GraphQL
* Менее стандартизован в сравнении с SOAP (многие недостатки решаются через https://json-schema.org/ и https://swagger.io/)
 