#### ID: ADR-02

#### Дата: 12.10.2023

#### Статус: Предложено

#### Участники:
* Евгений Климов

## Создание хранилища для пользовательских настроек

#### Решения:

Для хранения пользовательских настроек по каждому каналу связи выбрана реляционная база данных (например, PostgreSQL).

#### Обоснование:

Реляционные базы данных обеспечивают структурированное хранение данных и поддержку атомарных операций, обеспечивая эффективное управление и надежность данных о настройках пользователя. Это решение соответствует требованиям по обеспечению сохранности настроек пользователя, облегчает их управление и обновление.

#### Контекст:
Решение о создании хранилища для пользовательских настроек было принято в рамках разработки подсистемы отправки оповещений о событиях в текущей архитектуре. Данная подсистема обязана учитывать предпочтения пользователей по каналам связи для оповещений, такие как активация или деактивация каналов, а также указание адресов, номеров или логинов для доставки.

Подсистема должна быть спроектирована так, чтобы обеспечивать интеграцию с уже существующими компонентами системы, такими как "Controller," "Foo" и "Bar," которые могут инициировать оповещения пользователя. Для достижения цели максимальной надежности и сохранения настроек пользователя, выбор реляционной базы данных оправдан.

Примечательно, что данное решение не только удовлетворяет требованиям проекта, но и обеспечивает эффективное управление данными, обеспечивая сохранность пользовательских настроек, что важно в контексте поддержания качества обслуживания пользователей.

#### Альтернативы:

Вместо реляционной базы данных можно рассмотреть использование NoSQL базы данных, что может подойти для более гибкого хранения данных, но требует более сложной структуры данных и может быть менее предсказуемым в плане согласованности. Также, использование файлового хранилища возможно, но менее эффективно для поиска и обновления данных настроек, что может привести к ухудшению производительности системы.

#### Последствия:

#### Положительные:
- Система способна хранить и учитывать пользовательские настройки для персонализированных оповещений, что повышает качество обслуживания пользователей и удовлетворение их потребностей.
- Реляционная база данных обеспечивает структурированное хранение и атомарные операции, гарантируя надежность данных, что важно для обеспечения целостности и доступности настроек пользователя.

#### Отрицательные:
- Дополнительные усилия и ресурсы требуются для создания и поддержания реляционной базы данных, включая управление схемой данных и обслуживание.
- Изменения в схеме базы данных могут вызвать временные простои и требуют осторожного управления, чтобы минимизировать влияние на работу системы.