#### ID: ADR-004

#### Дата: 12.10.2023

#### Статус: Устарело

#### Участники:
* Евгений Климов

## Обработка особенностей разных каналов связи

**Решение:** Для обработки особенностей разных каналов связи, было принято решение разработать специальные компоненты и модули, которые будут учитывать уникальные характеристики каждого канала и решать следующие задачи:
- Ограничение символов в SMS: Будет создан компонент, который автоматически разбивает длинные тексты оповещений на более короткие SMS-сообщения в соответствии с ограничением на количество символов.
- Управление стоимостью SMS: Для мониторинга и контроля затрат на SMS-оповещения будет разработан инструмент, который отслеживает стоимость каждого отправленного SMS и предупреждает о возможных перерасходах.
- Лимиты пуш-очередей провайдеров: Для обеспечения надежной доставки push-уведомлений через FCM, будет настроен мониторинг лимитов пуш-очередей у провайдера (Firebase Cloud Messaging), чтобы избегать сбоев из-за превышения лимитов.

**Обоснование:**
- Ограничение символов в SMS: Этот компонент важен, так как многие мобильные операторы имеют ограничение на количество символов в одном SMS. Обработка этого ограничения поможет избежать обрыва текста оповещения и неудачных попыток доставки.
- Управление стоимостью SMS: Мониторинг стоимости SMS-сообщений важен для оптимизации затрат и предотвращения неожиданных расходов.
- Лимиты пуш-очередей провайдеров: Поддержание контроля над лимитами пуш-очередей провайдеров обеспечит надежную и стабильную доставку push-уведомлений, предотвращая сбои при превышении лимитов.

**Последствия:**

***Положительные:***
- Обработка ограничений и особенностей каждого канала связи обеспечит надежность и эффективность системы оповещений.
- Пользователи получат оповещения, соответствующие ограничениям и требованиям различных каналов связи, что обеспечит улучшенное взаимодействие с системой.
- Мониторинг и контроль затрат на SMS-сообщения поможет оптимизировать бюджет системы оповещений.

***Отрицательные:***
- Разработка и настройка дополнительных компонентов потребует времени и ресурсов.
- Требуется систематический мониторинг стоимости SMS и лимитов пуш-очередей, что также потребует времени и усилий.
- Необходимо обеспечить согласованность между различными компонентами обработки, чтобы избежать конфликтов и простоев в работе системы оповещений.
