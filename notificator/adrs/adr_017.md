#### ID: ADR-017

#### Дата: 16.10.2023

#### Статус: Предложено

#### Участники:
* Евгений Климов

## Выбор хранилища для пользовательских настроек и сообщений

#### Введение:

Этот документ дополняет [ADR-002 Создание хранилища для пользовательских настроек](adr_002.md)

#### Решения:

Для хранения пользовательских настроек и сообщений выбрана реляционная база данных, такая как PostgreSQL.

#### Обоснование:

Реляционные базы данных, такие как PostgreSQL, обеспечивают структурированное хранение данных и поддержку атомарных операций, что обеспечивает эффективное управление и надежность данных о настройках пользователя и сообщениях. Это решение соответствует требованиям по обеспечению сохранности пользовательских настроек, а также обеспечивает надежное хранение и управление сообщениями в системе оповещений.

#### Контекст:
Решение о выборе хранилища для пользовательских настроек и сообщений было принято в рамках разработки подсистемы отправки оповещений о событиях в текущей архитектуре. Данная подсистема обязана учитывать предпочтения пользователей по каналам связи для оповещений, такие как активация или деактивация каналов, а также указание адресов, номеров или логинов для доставки. Важно также обеспечивать надежное хранение сообщений и эффективное управление ими.

Выбор PostgreSQL позволяет соответствовать этим требованиям и обеспечивает высокую надежность и производительность для хранения пользовательских настроек и сообщений.

#### Альтернативы:

Вместо реляционной базы данных можно рассмотреть использование других хранилищ, таких как NoSQL базы данных или хранилищ сообщений. Однако, использование PostgreSQL предоставляет высокую степень надежности и структурированность, что важно в контексте сохранности пользовательских настроек и сообщений.

#### Последствия:

#### Положительные:
- Обеспечивается надежное и структурированное хранение пользовательских настроек и сообщений.
- Гарантированная сохранность и целостность данных в системе оповещений.
- Высокая доступность и производительность для обработки сообщений.
- Эффективное управление настройками пользователя и сообщениями.

#### Отрицательные:
- Дополнительные усилия и ресурсы могут потребоваться для создания и поддержания PostgreSQL-кластера.
- Изменения в схеме базы данных могут вызвать временные простои и требуют осторожного управления.
- Дополнительные требования к обучению и экспертизе для управления базой данных.
