#### ID: ADR-003

#### Дата: 2023.10.07

#### Статус: Предложено

#### Участники:
* Абдрахманов Марат

#### Решения:
* Обработкой всех входящих от внешних подсистем запросов будет заниматься API Gateway, который будет получать сообщения от Proxy через REST.
* Взаимодействие между API Gateway, Notify Service и Multiplexer & Sender Service будет осуществляться через брокер.
* Результат обработки запроса будет помещаться API Gateway'ем в брокер в топик new_notify.

#### Контекст:
Согласно принятому принципу проектирования из ADR-001 для достижения достаточной производительности сервиса необходимо предусмотреть асинхронный способ взаимодействия между ключевыми компонентами системы:
- API Gateway - входной шлюз системы;
- Notify Service - сервис управления формированием уведомлений;
- Multiplexer & Sender Service - сервис мультиплексирования и управления отправкой уведомлений.

В рамках данного ADR описано решение для:
- Процесса принятия запроса на формирование рассылки.

#### Последствия:

#### Положительные:
* Асинхронный способ взаимодействия позволит:
    * увеличить производительность отдельных компонент системы (не ждем ответа);
    * в таком варианте система будет лучше "переживать" отказы, перезагрузки и т.п. указанных компонент;
    * уменьшается вероятность потери данных.

#### Отрицательные:
* Необходимо развертывать брокер и обслуживать его работу.
* Необходимо на уровне компонент API Gateway, Notify Service и Multiplexer Service реализовывать работу с брокером.