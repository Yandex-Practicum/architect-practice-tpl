#### ID: ADR-002

#### Дата: 2023.10.07

#### Статус: Предложено

#### Участники:
* Абдрахманов Марат

#### Решения:
* Обработкой всех входящих от внешних подсистем запросов будет заниматься API Gateway, который будет получать сообщения от Proxy через REST.
* Взаимодействие между API Gateway, Notify Service и Multiplexer Service будет осуществляться через Kafka.
* Результат обработки запроса будет помещаться API Gateway'ем в Kafka в топик new_notify.

#### Контекст:
Считаем, что для достижения достаточной производительности сервиса необходимо предусмотреть асинхронный способ взаимодействия между ключевыми компонентами системы:
- API Gateway - входного шлюза системы;
- Notify Service - сервис управления формированием уведомлений;
- Multiplexer Service - сервис управления отправкой уведомлений.

#### Последствия:

#### Положительные:
* Асинхронный способ взаимодействия позволит:
    * увеличить производительность отдельных компонент системы (не ждем ответа);
    * в таком варианте система будет лучше "переживать" отказы, перезагрузки и т.п. указанных компонент;
    * уменьшается вероятность потери данных.

#### Отрицательные:
* Необходимо развертывать Kafka и обслуживать ее работу.
* Необходимо на уровне компонент API Gateway, Notify Service и Multiplexer Service реализовывать работу с Kafka;
