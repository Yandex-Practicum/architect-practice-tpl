#### ID: ADR-004

#### Дата: 08.10.2023

#### Статус: Принято

#### Участники:
* Стайнов Л. А.

#### Решения:
Использовать брокер сообщений RabbitMQ для маршрутизации пользовательских уведомлений.

#### Контекст:
Работаем со следующими вводными:
1. Компонент должен быть развёрнут во внутреннем контуре предприятия.
2. Компонент должен быть реализован на базе технологий с открытым исходным кодом.
3. Компонент должен поддерживать горизонтальное масштабирование и обеспечивать отказоустойчивость.
4. Компонент должен реализовывать внутреннюю маршрутизацию сообщений.
5. Сообщения должны храниться в течение определённого срока в брокере с возможностью их повторного чтения.

Были рассмотрены три кандидата: Kafka, RabbitMQ и ActiveMQ.

Kafka не реализует маршрутизацию сообщений из коробки, поэтому от этого решения отказываемся. В конечном счете остановились на RabbitMQ. Мотивацию см. ниже. Последствия даны в сравнении с ActiveMQ.

### Последствия:
#### Положительные:
* Простота в использовании
* Подробная документация
* По сравнению с ActiveMQ, чуть выигрывает в перфомансе: https://digitalscholarship.unlv.edu/cgi/viewcontent.cgi?article=4749&context=thesesdissertations
#### Отрицательные:
* Могут возникнуть проблемы с горизонтальным масштабированием
* Создает дополнительную нагрузку на поддержку и сопровождение