#### ID: ADR-005

#### Дата: 07.10.2023

#### Статус: Заменено на [ADR-010](adr/adr-010.md)

#### Участники:
* Жмурко Константин

#### Решения:
* Добавить компонент для повторной отправки неудачный уведомлений

#### Контекст:
При отправке уведомления могут возникнуть проблемы на стороне получающего шлюза, и уведомление может быть не доставлено.
Для обработки подобных ситуаций предлагается добавить компонент для обработки подобных уведомлений и повторной попытки
отправки определенное настройками количество раз. [Отложенные ретраи силами RabbitMQ](https://habr.com/ru/companies/domclick/articles/500978/)

В ходе рассмотрения решения было выявлено больше недостатков чем положительных сторон:
* очередь обрабатывается в порядке следования, следовательно, не будет возможности регулирования времени повторов для различных уведомлений
* нет возможности реализовать различное поведение для разных каналов или типов уведомлений

#### Последствия:

##### Положительные:
* уведомления будут доставлены пользователю несмотря на возможные проблемы на стороне отправляющего шлюза

##### Отрицательные:
* необходимость реализации и поддержки дополнительного компонента
* накладывает весьма ощутимые ограничения в эксплуатации
