#### ID: ADR-004

#### Дата: 14.10.2023

#### Статус: Принято

#### Участники:

* Андрей Маркушин

#### Решения:

* Применение event-driven архитектуры для реализации подсистемы
* Использование внешних сервисов для организации доставки оповещений до клиентов
* Хранение данных клиентов для рассылки на стороне подсистемы
* Использование брокера сообщений для буферизации данных для рассылки на время обработки

#### Контекст:

Основная задача системы - выполнение заданий на рассылку сообщений от большого количества внешних (для подсистемы) источников. Для этого требуется достаточная масштабируемость, гибкость системы. Подходящей архитектурной парадигмой является событийная (Event-Driven). Массовость рассылок и большое количество возможных источников уведомлений, требования к надежности доставки - предполагают использование надежных внешних сервисов, способных "прокачать" необходимый объем рассылок, что дополнительно снижает риски увеличения объема работ и уменьшает стоимость владения системой. Хранение данных адресатов в системе увеличивает безопасность для персональных данных адресата, по сравнению с передачей их в каждом сообщении.

#### Последствия:

#### Положительные:

* Возможность горизонтально масштабировать компоненты системы, в зависимости от текущей нагрузки. 
* Возможность добавления необходимого функционала при развитии системы в целом. 
* Повышенная отказоустойчивость
* Надежность доставки сообщений
* Отсутсвие необходимости поддержания инфраструктуры для реализации рассылки
* Безопасность хранения персональных данных


#### Отрицательные:

* Необходимость выделения ресурсов для оркестрации компонентов
* Риск ошибок интеграции между сервисами
* Риск потери персональных данных клиентов
* Периодические расходы на оплату услуг сервисов доставки рассылки
