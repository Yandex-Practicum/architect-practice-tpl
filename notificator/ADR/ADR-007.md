#### ID: ADR-007

#### Дата: 15.10.2023

#### Статус: Принято

#### Участники:
* Махнев Антон

#### Решения:
* Не сохранять в БД текст уведомления, вместо этого использовать [комбинацию durable-очереди и persistent-сообщения](https://www.cloudamqp.com/blog/how-to-persist-messages-during-RabbitMQ-broker-restart.html?gclid=CjwKCAjwyY6pBhA9EiwAMzmfwX4FfQI_gSkpfsYMGMd9F_TsyVNts90agxQCU4X-BsEkeDl8tMQs9BoCcukQAvD_BwE)

#### Контекст:
Необходимо передавать текст уведомления (который может быть объемным) между компонентами системы.

RabbitMQ [позволяет](https://www.rabbitmq.com/persistence-conf.html) [настроить](https://www.cloudamqp.com/blog/how-to-persist-messages-during-RabbitMQ-broker-restart.html?gclid=CjwKCAjwyY6pBhA9EiwAMzmfwX4FfQI_gSkpfsYMGMd9F_TsyVNts90agxQCU4X-BsEkeDl8tMQs9BoCcukQAvD_BwE) сохранение очередей и сообщений в них между перезагрузками брокера.

#### Последствия:

#### Положительные:
* Нет необходимости сохранять текст уведомления в БД

#### Отрицательные:
* Передача в сообщении всего текста уведомления может сказаться на быстродействии