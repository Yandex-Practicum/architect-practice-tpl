#### ID: ADR-1

#### Дата: 05.10.2023

#### Статус: Принято

#### Участники:
* Царьков Сергей

#### Решения:
* Выделение отдельного компонента для взаимодействия с пользователем и внешними системами

#### Контекст:
 Так как пользователей может быть большое количество, а так же они могут/должны быть авторизованы, то было принято решение перед сервисом с бизнес логикой (Api) выделить
отдельный Gateway. Основная роль данного сервиса распределение/ограничение нагрузки, авторизация и т.п.

#### Выбор технологии:
Основные рассмотренные:
* Nginx

Более "взрослое" решение

Умеет работать как Web сервер

Гибкая настройка логов

Human-friendly конфигурация

Lua скрипты

* Haproxy

Бесплатный софт

Предиктивный HealthCheck

Поддержка протоколов TCP, LDAP, AMPQ

Api c диагностической страницей

В результате исследований было принято решение выбрать Haproxy, так как это open source решение с хорошей документацией, большим коммьюнити и функционалом достаточнм для наших задач.

#### Последствия:

#### Положительные:
* Снятие ответственности по авторизации с сервиса Бизнес логики
* Возможность размазывания нагрузки при пиковых скачках

#### Отрицательные:
* Дополнительный overhead на запрос
* Дополнительный сервис для поддержки
